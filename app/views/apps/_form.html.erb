<%= form_with(model: webhook, local: true, html: {autocomplete: 'off'}) do |form| %>
  <% if webhook.errors.any? %>
    <div class="alert alert-danger mb-3">
      <h5>Uh oh, you need to fix <%= pluralize(webhook.errors.count, "error") %>:</h5>
      <ul>
        <% webhook.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-lg-6">
      <div class="form-group">
        <%= form.label :name %>
        <%= form.text_field :name, class: 'form-control', autocomplete: 'off' %>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="form-group">
        <%= form.label :slug %>
        <div class="input-group">
          <div class="input-group-prepend input-group-slug">
            <span class="input-group-text"><%= request.base_url %>/</span>
          </div>
          <%= form.text_field :slug, class: 'form-control', autocomplete: 'off' %>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div class="card-block mb-3">
        <label>Table Columns</label>
        <div id="table-column-list" class="mb-3"></div>
        <div id="table-new-column">
          <label>Add Column</label>
          <div class="input-group add-column-wrapper">
            <input id="table-column-name" type="text" class="form-control" placeholder="Title">
            <input id="table-column-key" type="text" class="form-control" placeholder="Key">
            <div class="input-group-append">
              <a href="#" class="btn btn-secondary" id="add-table-column">Add</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div style="display: none">
      <%= form.text_field :structure, id: 'final-structure' %>
      <%= form.text_field :column_keys, id: 'final-column-keys' %>
    </div>
  </div>

  <div class="card-block-footer clearfix">
    <%= form.submit 'Save', class: 'btn btn-primary float-right' %>
  </div>
<% end %>
